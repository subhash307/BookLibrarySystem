(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,a){e.exports=a(402)},372:function(e,t,a){},374:function(e,t,a){},402:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(162),c=a.n(r),s=(a(171),a(372),a(35)),l=a(36),i=a(39),m=a(37),u=a(40);a(374);var b=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},o.a.createElement("div",{className:"container"},o.a.createElement("a",{className:"navbar-brand",href:"/"},"Book Library System"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},o.a.createElement("span",{className:"navbar-toggler-icon"}))))},d=a(403),p=a(38),h=a(30),f=a.n(h),k=a(63),v=a(64),E=a.n(v),O=function(e,t){return function(){var a=Object(k.a)(f.a.mark(function a(n){return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.a.post("/api/board",e);case 3:t.push("/"),n({type:"GET_ERRORS",payload:{}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:"GET_ERRORS",payload:a.t0.response.data});case 10:case"end":return a.stop()}},a,this,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},g=function(e,t){return function(){var a=Object(k.a)(f.a.mark(function a(n){var o;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.a.get("/api/board/".concat(e));case 3:o=a.sent,n({type:"GET_BOOK",payload:o.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t.push("/");case 10:case"end":return a.stop()}},a,this,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},N=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onDeleteClick",value:function(e){this.props.deleteBook(e)}},{key:"render",value:function(){var e=this.props.book;return o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"row"},e.id),o.a.createElement("td",null,e.bookName),o.a.createElement("td",null,e.description),o.a.createElement("td",null,e.author),o.a.createElement("td",null,e.numberOfBooks),o.a.createElement("td",null,o.a.createElement(d.a,{to:"updateBook/".concat(e.id),className:"btn btn-secondary btn-sm"},o.a.createElement("i",{className:"fa fa-edit"})," Edit"),o.a.createElement("a",{href:"/",className:"btn btn-danger float-right btn-sm",onClick:this.onDeleteClick.bind(this,e.id)},o.a.createElement("i",{className:"fa fa-trash"})," Delete Book"))))}}]),t}(n.Component),y=Object(p.b)(null,{deleteBook:function(e){return function(){var t=Object(k.a)(f.a.mark(function t(a){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("You are deleting book ".concat(e,", this action cannot be undone"))){t.next=4;break}return t.next=3,E.a.delete("/api/board/".concat(e));case 3:a({type:"DELETE_BOOK",payload:e});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(N),j=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onDeleteClick",value:function(){this.props.deleteAllBooks()}},{key:"componentDidMount",value:function(){this.props.getBacklog()}},{key:"render",value:function(){var e,t=this,a=this.props.books.books,n=[];return e=function(e){if(e.length<1)return o.a.createElement("div",{className:"alert alert-info text-center",role:"alert"},"No book available on this library.");for(var a=e.map(function(e){return o.a.createElement(y,{key:e.id,book:e})}),r=0;r<a.length;r++)n.push(a[r]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{id:"myDiv",href:"/",disabled:!0,className:"btn btn-danger float-right mb-3",onClick:t.onDeleteClick.bind(t)},o.a.createElement("i",{className:"fa fa-trash"})," Delete all books"),o.a.createElement("table",{className:"table table-bordered table-striped"},o.a.createElement("thead",{className:"table-secondary"},o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"#"),o.a.createElement("th",{scope:"col"},"Book Name"),o.a.createElement("th",{scope:"col",className:"column-width"},"Description"),o.a.createElement("th",{scope:"col"},"Author"),o.a.createElement("th",{scope:"col"},"Number of books"),o.a.createElement("th",{scope:"col"},"Action"))),n))}(a),o.a.createElement("div",{className:"container"},o.a.createElement(d.a,{to:"./addBook",className:"btn btn-info mb-3"},o.a.createElement("i",{className:"fas fa-plus-circle"})," Add new book"),o.a.createElement("hr",null),e)}}]),t}(n.Component),B=Object(p.b)(function(e){return{books:e.book}},{getBacklog:function(){return function(){var e=Object(k.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/board/all");case 2:a=e.sent,t({type:"GET_BOOKS",payload:a.data});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},getBook:g,deleteAllBooks:function(){return function(){var e=Object(k.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("You are deleting all the books, this action cannot be undone")){e.next=5;break}return e.next=3,E.a.delete("/api/board/delete-all");case 3:a=e.sent,t({type:"DELETE_ALL_BOOKS",payload:a.data});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}})(j),w=a(405),C=a(404),x=a(62),S=a(23),_=a(69),D=a.n(_),T=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={bookName:"",description:"",author:"",numberOfBooks:"",errors:{}},e.onChange=e.onChange.bind(Object(S.a)(Object(S.a)(e))),e.onSubmit=e.onSubmit.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={bookName:this.state.bookName,description:this.state.description,author:this.state.author,numberOfBooks:this.state.numberOfBooks};this.props.addBook(t,this.props.history)}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"addBook"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-8 m-auto"},o.a.createElement(d.a,{to:"/",className:"btn btn-light"},"Back to Board"),o.a.createElement("h4",{className:"display-6 text-center"},"Add book to library "),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:D()("form-control form-control-lg",{"is-invalid":e.bookName}),name:"bookName",value:this.state.bookName,placeholder:"Enter book name",onChange:this.onChange}),e.bookName&&o.a.createElement("div",{className:"invalid-feedback"},e.bookName)),o.a.createElement("div",{className:"form-group"},o.a.createElement("textarea",{className:"form-control form-control-lg",name:"description",value:this.state.description,placeholder:"Book Description",onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:D()("form-control form-control-lg",{"is-invalid":e.author}),name:"author",value:this.state.author,placeholder:"Write the book author",onChange:this.onChange}),e.author&&o.a.createElement("div",{className:"invalid-feedback"},e.author)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"number",className:"form-control form-control-lg",name:"numberOfBooks",value:this.state.numberOfBooks,placeholder:"Number of books",onChange:this.onChange})),o.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-4"}))))))}}]),t}(n.Component),R=Object(p.b)(function(e){return{errors:e.errors}},{addBook:O})(T),A=a(29),L=a(164),G={},K=a(87),W={books:[],book:{}},X=Object(A.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},book:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BOOKS":return Object(K.a)({},e,{books:t.payload});case"DELETE_BOOK":return Object(K.a)({},e,{books:e.books.filter(function(e){return e.id!==t.payload})});case"GET_BOOK":return Object(K.a)({},e,{book:t.payload});default:return e}}}),I={},U=[L.a],J=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),M=window.navigator.userAgent.includes("Chrome")&&J?Object(A.e)(X,I,Object(A.d)(A.a.apply(void 0,U),J)):Object(A.e)(X,I,Object(A.d)(A.a.apply(void 0,U))),P=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={id:"",bookName:"",description:"",author:"",numberOfBooks:"",errors:{}},e.onChange=e.onChange.bind(Object(S.a)(Object(S.a)(e))),e.onSubmit=e.onSubmit.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={id:this.state.id,bookName:this.state.bookName,description:this.state.description,author:this.state.author,numberOfBooks:this.state.numberOfBooks};this.props.addBook(t,this.props.history)}},{key:"componentDidMount",value:function(){var e=this.props.match.params.book_id;this.props.getBook(e)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors});var t=e.book,a=t.id,n=t.bookName,o=t.description,r=t.author,c=t.numberOfBooks;this.setState({id:a,bookName:n,description:o,author:r,numberOfBooks:c})}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"updateBook"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-8 m-auto"},o.a.createElement("a",{href:"/",className:"btn btn-light"},"Back to Board"),o.a.createElement("h4",{className:"display-6 text-center"},"Update book "),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:D()("form-control form-control-lg",{"is-invalid":e.summary}),name:"bookName",placeholder:"Enter book name",value:this.state.bookName,onChange:this.onChange}),e.summary&&o.a.createElement("div",{className:"invalid-feedback"},e.summary)),o.a.createElement("div",{className:"form-group"},o.a.createElement("textarea",{type:"text-area",className:"form-control form-control-lg",name:"description",placeholder:"Description about book",value:this.state.description,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:"form-control form-control-lg",name:"author",placeholder:"Enter author name",value:this.state.author,onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"number",className:"form-control form-control-lg",name:"numberOfBooks",placeholder:"Enter number of books",value:this.state.numberOfBooks,onChange:this.onChange})),o.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-4"}))))))}}]),t}(n.Component),V=Object(p.b)(function(e){return{book:e.book.book,errors:e.errors}},{getBook:g,addBook:O})(P),Y=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,{store:M},o.a.createElement(w.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(b,null),o.a.createElement(C.a,{exact:!0,path:"/",component:B}),o.a.createElement(C.a,{exact:!0,path:"/addBook",component:R}),o.a.createElement(C.a,{exact:!0,path:"/updateBook/:book_id",component:V}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[166,2,1]]]);
//# sourceMappingURL=main.70e09e74.chunk.js.map